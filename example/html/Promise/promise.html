<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Promise</title>
</head>
<body>
<script>
    function runAsync1(){
        var p = new Promise(function(resolve, reject){
            //做一些异步操作
            setTimeout(function(){
                console.log('异步任务1执行完成');
                resolve('随便什么数据1');
            }, 1000);
        });
        return p;
    }
    function runAsync2(){
        var p = new Promise(function(resolve, reject){
            //做一些异步操作
            setTimeout(function(){
                console.log('异步任务2执行完成');
                resolve('随便什么数据2');
            }, 2000);
        });
        return p;
    }
    function runAsync3(){
        var p = new Promise(function(resolve, reject){
            //做一些异步操作
            setTimeout(function(){
                console.log('异步任务3执行完成');
                resolve('随便什么数据3');
            }, 2000);
        });
        return p;
    }
    runAsync1()
        .then(function(data){
            console.log(data);
            return runAsync2();
        })
        .then(function(data){
            console.log(data);
            return '直接返回数据';  //这里直接返回数据
        })
        .then(function(data){
            console.log(data);
        });
    //从url中获取参数值
    function getvl(name) {
        var reg = new RegExp("(^|\\?|&)"+ name +"=([^&]*)(\\s|&|$)", "i");
        if (reg.test(location.href)) return unescape(RegExp.$2.replace(/\+/g, " "));
        return "";
    };
    var code = getvl("_ijt");
    console.log(code);
    //首先创建一个空数组，用来放10个数字
    var Array = [];
    //接下来定义一个函数，这个函数是写10~100的随机数，我们现在把他封装成一个函数
    function getRandom(num1,num2){
        var transition = num2 - num1 + 1;//这里面的加1是为了能够取到100
        var res = Math.floor(Math.random() * transition + num1);
        return res;
    }
    //上面的代码已经获取了num1~num2的随机数
    //下面是遍历出10个随机数,并把十个数用push放法放到新定义的数组里面
    for(var i = 0; i < 10; i++){
        Array.push(getRandom(10,100));
    }
    //最后用sort方法进行排序
    Array.sort(function(a,b){
        return a > b;
    })
    //打印数组Array
    console.log(Array);
</script>
</body>
</html>